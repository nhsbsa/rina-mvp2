<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout.html -->
{% extends 'layout.html' %}
<!-- 
  In /views/layout.html you can:
    - change the header and footer 
    - add custom CSS and JavaScript
-->

<!-- Set the page title -->
{% block header %}
  {{ header({
    "service": {
        "name": "Overseas Healthcare Services RINA",
        "href": "/"
      },
      "showNav": "false",
      "showSearch": "false"
    })
  }}
{% endblock %}

<!-- For adding a breadcrumb -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/breadcrumbs -->
{% block beforeContent %}
{% endblock %}

<!-- For adding a back link -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/back-link -->
{% block outerContent %}
{% endblock %}

<!-- For adding page content -->
<!-- Page layout code can be found at https://service-manual.nhs.uk/design-system/styles/layout -->
{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">

<!-- Case details -->
<h1>Case details</h1>

<dl class="nhsuk-summary-list">

  <div class="nhsuk-summary-list__row">
    <dt class="nhsuk-summary-list__key">
      Full name
    </dt>
    <dd class="nhsuk-summary-list__value">
      Robin Brown
    </dd>

  </div>

  <div class="nhsuk-summary-list__row">
    <dt class="nhsuk-summary-list__key">
      RINA international case ID
    </dt>
    <dd class="nhsuk-summary-list__value">
      bae451po-ssw565sj-fqb573jx-sxl532ya
    </dd>     

  </div>

  <div class="nhsuk-summary-list__row">
    <dt class="nhsuk-summary-list__key">
      Date of birth
    </dt>
    <dd class="nhsuk-summary-list__value">
      12 February 1997
    </dd>        
  </div>


  <div class="nhsuk-summary-list__row">
    <dt class="nhsuk-summary-list__key">
      Address
    </dt>
    <dd class="nhsuk-summary-list__value">
      -
    </dd>

 </div>

      
<div class="nhsuk-summary-list__row">
<dt class="nhsuk-summary-list__key">
  Treatment start date
</dt>
<dd class="nhsuk-summary-list__value">
  15 December 2023
</dd>
</div>

<div class="nhsuk-summary-list__row">
<dt class="nhsuk-summary-list__key">
Treatment end date
</dt>
<dd class="nhsuk-summary-list__value">
3 January 2024
</dd>
</div>

  
<div class="nhsuk-summary-list__row">
<dt class="nhsuk-summary-list__key">
Last updated
</dt>
<dd class="nhsuk-summary-list__value">
22 January 2024
</dd>
</div>
</div>
</div>





<!-- Timeline -->
<div class="nhsuk-tabs__panel">

  <div class="nhsuk-timeline">
    <h1 class="nhsuk-heading-m nhsuk-u-margin-bottom-6">Timeline</h1>
    <ol class="nhsuk-timeline__events">
      <li class="nhsuk-timeline__events--entry">
        <h2 class="nhsuk-heading-s nhsuk-u-margin-bottom-1">X009: Reminder</h2>
        <p class="nhsuk-body-s nhsuk-u-margin-bottom-3">22 January 2024</p>
        <p class="nhsuk-body-m nhsuk-u-margin-bottom-2" for="so44-tbc"><span class="prefix">Country:</span>United Kingdom</p>
        <strong class="nhsuk-tag nhsuk-tag--green nhsuk-u-margin-bottom-4">Received by member state</strong>
        <ul class="nhsuk-list nhsuk-body-s">
          <li><a href="ohs-so44">Open form</a></li> 
          <li><a href="#">Add attachment</a></li>
        </ul>
    </li>
      <li class="nhsuk-timeline__events--entry">
        <h2 class="nhsuk-heading-s nhsuk-u-margin-bottom-1">H001: Notification/request for information</h2>
        <p class="nhsuk-body-s nhsuk-u-margin-bottom-3">15 January 2024</p>
        <p class="nhsuk-body-m nhsuk-u-margin-bottom-2" for="so44-tbc"><span class="prefix">Country:</span>United Kingdom</p>
        <strong class="nhsuk-tag nhsuk-tag--green nhsuk-u-margin-bottom-4">Received by member state</strong>
        <ul class="nhsuk-list nhsuk-body-s">
          <li><a href="ohs-so44">Open form</a></li>
          <li><a href="#">Add attachment</a></li>   
          <li><a href="x009">Create X009</a></li>
        </ul>
      </li>
    <li class="nhsuk-timeline__events--entry">
        <h2 class="nhsuk-heading-s nhsuk-u-margin-bottom-1">S044: Request for entitlement document</h2>
        <p class="nhsuk-body-s nhsuk-u-margin-bottom-3">12 January 2024</p>
        <p class="nhsuk-body-m nhsuk-u-margin-bottom-2" for="so44-tbc"><span class="prefix">Country:</span>Spain</p>
        <strong class="nhsuk-tag nhsuk-tag--green nhsuk-u-margin-bottom-4">Received</strong>
        <ul class="nhsuk-list nhsuk-body-s">
          <li><a href="ohs-so44">Open form</a></li>
          <li><a href="#">Add attachment</a></li>
          <li><a href="#">Send to OHS</a></li> 
          <li><a href="#">Create H001</a></li>
        </ul>
    </li>
    </div> 
</div>

      




   <!-- Page actions -->
    <details class="nhsuk-details nhsuk-expander nhsuk-u-margin-top-6">
      <summary class="nhsuk-details__summary">
        <span class="nhsuk-details__summary-text">
          Archive or close the case 
        </span>
      </summary>
      <div class="nhsuk-details__text">
        <ul class="nhsuk-list">
          <li><a href="#" onclick="openModal('myModal1')">Archive case</a></li>
          <li><a href="#" onclick="openModal('myModal2')">Close case</a></li>
        </ul>
      </div>
    </details>


<!-- Modals -->
    <!-- Archive modal -->
    <div id="myModal1" class="modal">
        <div class="modal-content">
          <a href="#" class="close nhsuk-link" onclick="closeModal('myModal1')">Close</a>
          <br>
            <h3 class="nhsuk-heading-l nhsuk-u-margin-top-4">Are you sure you want to archive this case?</h3>
            <button id="archivebutton" onclick="navigateTo('unhappy-archive-success')" class="nhsuk-button nhsuk-u-margin-top-4" data-module="nhsuk-button" data-prevent-double-click="true" >
              Archive case
            </button>
            <button id="archivecancel" onclick="closeModal('myModal1')" class="nhsuk-button nhsuk-button--secondary nhsuk-u-margin-left-2 nhsuk-button nhsuk-u-margin-top-4" >
              Cancel
            </button>
          </div>
    </div>

    <!-- Close modal -->
    <div id="myModal2" class="modal">
        <div class="modal-content">
          <a href="#" class="close nhsuk-link" onclick="closeModal('myModal2')">Close</a>
          <br>
            <h3 class="nhsuk-heading-l nhsuk-u-margin-top-4">Are you sure you want to close this case?</h3>
            <button id="archivebutton"  onclick="navigateTo('unhappy-closed-success')" class="nhsuk-button nhsuk-u-margin-top-4" data-module="nhsuk-button" data-prevent-double-click="true" >
              Close case
            </button>
            <button id="archivecancel" onclick="closeModal('myModal2')" class="nhsuk-button nhsuk-button--secondary nhsuk-u-margin-left-2 nhsuk-button nhsuk-u-margin-top-4" onclick="closeModal()">
              Cancel
            </button>
          </div>
    </div>
    <a href="unhappy-h002-start" class="nhsuk-link">See the H002 has arrived</a>
  </div>
</div>


<!-- Modal script -->

<script>

  // Open modal
  function openModal(modalId) {
    var modal = document.getElementById(modalId);
    modal.style.display = 'block';
  }
  
  // Close modal
  function closeModal(modalId) {
    var modal = document.getElementById(modalId);
    modal.style.display = 'none';
  }
  
  // Close modal if user clicks outside modal
  window.onclick = function(event) {
    var modals = document.querySelectorAll('.modal');
    modals.forEach(function(modal) {
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    });
  }
  
  function navigateTo(page) {
    window.location.href = page;
  }
          
      </script>




{% endblock %}
