<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout.html -->
{% extends 'layout.html' %}
<!-- 
  In /views/layout.html you can:
    - change the header and footer 
    - add custom CSS and JavaScript
-->

<!-- Set the page title -->
{% block pageTitle %}
  NHS.UK prototype kit
{% endblock %}

<!-- For adding a breadcrumb -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/breadcrumbs -->
{% block beforeContent %}
{% endblock %}

<!-- For adding a back link -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/back-link -->
{% block outerContent %}
{% endblock %}

<!-- For adding page content -->
<!-- Page layout code can be found at https://service-manual.nhs.uk/design-system/styles/layout -->
{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">

      {% if (data['case-search-null']) %}
      <div class="nhsuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1">
        <h2 class="nhsuk-error-summary__title" id="error-summary-title">You didn't enter a search term</h2>
        <div class="nhsuk-error-summary__body">
          <p>Enter a RINA reference number or customer name and search again.</p>
          <ul class="nhsuk-list nhsuk-error-summary__list" role="list">
            <li><a href="#case-search-term">RINA reference number or search term</a></li>
          </ul>
        </div>
      </div>
      {% endif %}
    
      <h1>RINA cases</h1>
      <h4>6 records found</h4>

      <form action="find-case-1" method="post">

        <div class="nhsuk-form-group">
          <label class="nhsuk-label nhsuk-u-margin-top-6 " for="case-search-term">
            RINA reference number or customer name
          </label>


    <!--Start of dynamic table-->

      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Dynamic Table with Search</title>
    </head>
    <body>
      
      <input type="text" class="nhsuk-input" id="searchInput" >
      <table class="nhsuk-table nhsuk-u-margin-bottom-4">
      <table id="dataTable">
        <thead>
          <tr>
            <th>RINA reference</th>
            <th>First name</th>
            <th>Last name</th>
            <th>Email</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>F34567</td> <!--Case ID-->
            <td>Sarah</td> <!--First name-->
            <td>Jones</td> <!--Last name-->
            <td>garpl@nhsbsa.nhs.uk</td> <!--User-->
            <td>Open</td> <!--Status-->
          </tr>
          <tr>
            <td>K57554</td> <!--Case ID-->
            <td>James</td> <!--First name-->
            <td>Fowler</td> <!--Last name-->
            <td>barty@nhsbsa.nhs.uk</td> <!--Email-->
            <td>Open</td> <!--Status-->
          </tr>
          <tr>
            <td><a href="#">L68344</a></td> <!--Case ID-->
            <td>Caitlin</td> <!--First name-->
            <td>Graham</td> <!--Last name-->
            <td></td> <!--Email-->
            <td>Medical</td> <!--Status-->
          </tr>
          <tr>
            <td><a href="ohs-case-view-so44">Q12345</a></td> <!--Case ID-->
            <td>Ali</td> <!--First name-->
            <td>Roberts</td> <!--Last name-->
            <td></td> <!--Email-->
            <td>Pending</td> <!--Status-->
          </tr>
          <tr>
            <td><a href="#">R45678</a></td> <!--Case ID-->
            <td>Sebastian</td> <!--First name-->
            <td>Holmes</td> <!--Last name-->
            <td></td> <!--Email-->
            <td>VIP</td> <!--Status-->
          </tr>
          <td><a href="#">U58052</a></td> <!--Case ID-->
          <td>Leon</td> <!--First name-->
          <td>Adams</td> <!--Last name-->
          <td></td> <!--Email-->
          <td>Pending</td> <!--Status-->
        </tr>
        </tbody>
      </table>
    </table>
    
      <script>
        document.getElementById("searchInput").addEventListener("keyup", function() {
          let input, filter, table, tr, td, i, txtValue;
          input = document.getElementById("searchInput");
          filter = input.value.toUpperCase();
          table = document.getElementById("dataTable");
          tr = table.getElementsByTagName("tr");
    
          for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1]; // Change the index to match the column you want to filter
            if (td) {
              txtValue = td.textContent || td.innerText;
              if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
              } else {
                tr[i].style.display = "none";
              }
            }
          }
        });
      </script>

<!--End of dynamic table-->


    </div>
  </div>
{% endblock %}
